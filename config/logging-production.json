{
  "level": "info",
  "format": "json",
  "defaultMeta": {
    "service": "traffic-router",
    "environment": "production"
  },
  "transports": [
    {
      "type": "console",
      "level": "error",
      "format": "simple",
      "colorize": false,
      "handleExceptions": true,
      "handleRejections": true
    },
    {
      "type": "file",
      "filename": "/var/log/traffic-router/app.log",
      "level": "info",
      "maxsize": 52428800,
      "maxFiles": 15,
      "tailable": true,
      "zippedArchive": true,
      "format": "json",
      "datePattern": "YYYY-MM-DD",
      "auditFile": "/var/log/traffic-router/audit.json"
    },
    {
      "type": "file",
      "filename": "/var/log/traffic-router/error.log",
      "level": "error",
      "maxsize": 52428800,
      "maxFiles": 10,
      "tailable": true,
      "zippedArchive": true,
      "format": "json",
      "datePattern": "YYYY-MM-DD"
    },
    {
      "type": "file",
      "filename": "/var/log/traffic-router/access.log",
      "level": "info",
      "maxsize": 104857600,
      "maxFiles": 7,
      "tailable": true,
      "zippedArchive": true,
      "format": "combined",
      "datePattern": "YYYY-MM-DD"
    },
    {
      "type": "http",
      "host": "${LOG_AGGREGATOR_HOST}",
      "port": 443,
      "path": "/logs",
      "ssl": true,
      "level": "warn",
      "format": "json",
      "timeout": 5000,
      "meta": {
        "service": "traffic-router-production",
        "version": "${BUILD_VERSION}",
        "environment": "production"
      }
    }
  ],
  "exceptionHandlers": [
    {
      "type": "file",
      "filename": "/var/log/traffic-router/exceptions.log",
      "maxsize": 10485760,
      "maxFiles": 3,
      "format": "json"
    }
  ],
  "rejectionHandlers": [
    {
      "type": "file",
      "filename": "/var/log/traffic-router/rejections.log",
      "maxsize": 10485760,
      "maxFiles": 3,
      "format": "json"
    }
  ],
  "exitOnError": false,
  "silent": false
}